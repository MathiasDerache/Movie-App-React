(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{37:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),i=a(38),r=a.n(i),n=(a(46),a(47),a(5)),o=a(6),l=a(8),j=a(7),m=a(9),h=a(16),d=a(2),u=a.p+"static/media/clapper.c2a8b2fa.svg",b=a(1),v=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:u,alt:"PopCorn",className:"navImage"})}),Object(b.jsxs)("ul",{className:"nav",children:[Object(b.jsx)("li",{className:"items",children:Object(b.jsx)(h.c,{exact:!0,to:"/Movie-App-React/",className:"nav-link",activeClassName:"text-muted",children:"Home"})}),Object(b.jsx)("li",{className:"items",children:Object(b.jsx)(h.c,{exact:!0,to:"/favoris",className:"nav-link",activeClassName:"text-muted",children:"Favorites"})})]})]})}}]),a}(s.Component),O=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,movie:e.props.movie,fav:!0},e.montrerDescription=function(){e.setState({show:!e.state.show})},e.cacherDescription=function(){e.setState({show:!e.state.show})},e.detail=function(e){localStorage.setItem("film",JSON.stringify(e))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(b.jsx)(c.a.Fragment,{children:Object(b.jsxs)("div",{className:"film",onMouseEnter:this.montrerDescription,onMouseLeave:this.cacherDescription,children:[this.state.show?Object(b.jsxs)("div",{id:"description",children:[Object(b.jsxs)(h.b,{to:{pathname:"/detail"},children:[this.props.description,Object(b.jsx)("div",{className:"toDetail",onClick:function(){e.detail(e.props.movie)}})]}),this.props.favoris||this.props.infav(this.state.movie.id)?Object(b.jsx)("button",{className:"fav",onClick:function(){e.props.remove(e.state.movie.id)},children:Object(b.jsx)("i",{className:"fas fa-times"})}):Object(b.jsx)("button",{className:"fav",onClick:function(){e.props.add(e.state.movie)},children:Object(b.jsx)("i",{className:"fas fa-heart"})})]}):null,Object(b.jsx)("div",{className:"filmImage",children:Object(b.jsx)("img",{src:this.props.image,alt:""})}),Object(b.jsx)("div",{className:"filmTitle",children:this.props.title})]})})}}]),a}(s.Component),p=a(39),f=a.n(p).a.create({baseURL:"https://api.themoviedb.org/3"});f.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZWNmOTc5NjQ0ODRjMmQzNTdkMzlhOWVmNzJjZjdjMiIsInN1YiI6IjYwMmU2ZjY1NTVjMWY0MDAzZjA1ZTY4MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ZOUu1ZzL5DCuR8svTsAkys-XQW827vX7uSRBcHpflgM"),e}));var x=a(22),g=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={InitialValues:{query:""}},e.getFormulaire=function(t){f.get("/search/movie",{params:{query:t.query}}).then((function(t){e.props.rechercheFilm(t.data.results)}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(b.jsx)(c.a.Fragment,{children:Object(b.jsx)(x.c,{initialValues:this.state.InitialValues,onSubmit:function(t){e.getFormulaire(t)},children:Object(b.jsx)(x.b,{children:Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)(x.a,{type:"search",className:"form-control rounded search",placeholder:"Search a movie ...","aria-label":"Search","aria-describedby":"search-addon",name:"query"}),Object(b.jsx)("button",{type:"submit",className:"btn btn-outline searchBtn",children:"Search"})]})})})})}}]),a}(s.Component),N=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={isLoaded:!1},s.addFav=function(e){var t=localStorage.getItem("movies");-1===(t=JSON.parse(t)).findIndex((function(t){return t.id===e.id}))&&(t.push(e),localStorage.setItem("movies",JSON.stringify(t)))},s.removeFromFav=function(e){var t=localStorage.getItem("movies"),a=(t=JSON.parse(t)).filter((function(t){return t.id!==e}));localStorage.setItem("movies",JSON.stringify(a))},s.inFavoris=function(e){var t=localStorage.getItem("movies");return-1!==(t=JSON.parse(t)).findIndex((function(t){return t.id===e}))},s.rechercheFilm=function(e){s.setState({values:e,boolean:!1})},s.state={array:[],boolean:!0},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.get("/discover/movie").then((function(t){200===t.status&&e.setState({values:t.data.results,isLoaded:!0})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return this.state.isLoaded?Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("div",{className:"container search",children:Object(b.jsx)(g,{rechercheFilm:this.rechercheFilm})}),Object(b.jsx)("div",{className:"films",children:this.state.values.map((function(t){return Object(b.jsx)(O,{title:t.title,image:"https://image.tmdb.org/t/p/w500"+t.poster_path,description:t.overview,id:t.id,movie:t,add:e.addFav,infav:e.inFavoris,remove:e.removeFromFav},t.id)}))})]}):Object(b.jsx)("div",{className:"loader"})}}]),a}(s.Component),y=(a(37),function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{children:Object(b.jsx)(N,{})})})}}]),a}(s.Component)),S=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={show:!1,movies:JSON.parse(localStorage.getItem("movies"))},e.montrerDescription=function(){e.setState({show:!e.state.show})},e.cacherDescription=function(){e.setState({show:!e.state.show})},e.removeFromFav=function(t){var a=localStorage.getItem("movies"),s=(a=JSON.parse(a)).filter((function(e){return e.id!==t}));localStorage.setItem("movies",JSON.stringify(s)),e.setState({movies:JSON.parse(localStorage.getItem("movies"))})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("button",{type:"button",className:"btn back",onClick:function(){return e.props.history.goBack()},children:Object(b.jsx)("i",{className:"fas fa-arrow-left"})}),Object(b.jsx)("h1",{className:"text-center mt-5",children:"My Favourites"}),Object(b.jsx)("div",{className:"hr",children:Object(b.jsx)("hr",{})}),Object(b.jsx)("div",{className:"films",children:this.state.movies.map((function(t){return Object(b.jsx)(O,{title:t.title,image:"https://image.tmdb.org/t/p/w500"+t.poster_path,description:t.overview,id:t.id,movie:t,remove:e.removeFromFav,favoris:!0},t.id)}))})]})}}]),a}(s.Component),I=a.p+"static/media/robot.182b4170.png",k=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"lost",children:[Object(b.jsx)("div",{children:Object(b.jsx)("h1",{children:"Error 404 !"})}),Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:I,alt:"robot"})}),Object(b.jsx)("div",{children:Object(b.jsx)("h1",{children:"Oops ! that page doesn't exist ..."})})]})}}]),a}(s.Component),w=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={array:[]},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("film"))||[];this.setState({array:e})}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("button",{type:"button",className:"btn back",onClick:function(){return e.props.history.goBack()},children:Object(b.jsx)("i",{className:"fas fa-arrow-left"})}),Object(b.jsxs)("div",{className:"container pageDetail col-12",children:[Object(b.jsx)("div",{className:"poster col-12 col-md-12 col-lg-6 col-xl-6 text-center",children:Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/w500"+this.state.array.poster_path,alt:"poster",className:"posterDetail"})}),Object(b.jsxs)("div",{className:"informationsDetail col-12 col-md-12 col-lg-6 col-xl-6",children:[Object(b.jsxs)("div",{className:"infoDetail",children:[Object(b.jsx)("h1",{className:"text-center",children:"Title :"}),this.state.array.title]}),Object(b.jsxs)("div",{className:"infoDetail",children:[Object(b.jsx)("h1",{className:"text-center",children:"Overview :"}),this.state.array.overview]}),Object(b.jsxs)("div",{className:"infoDetail",children:[Object(b.jsx)("h1",{className:"text-center",children:"Release Date :"}),this.state.array.release_date]}),Object(b.jsxs)("div",{className:"infoDetail",children:[Object(b.jsx)("h1",{className:"text-center",children:"Note :"}),this.state.array.vote_average," / 10"]})]})]})]})}}]),a}(s.Component),F=Object(m.a)(),J=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsxs)(h.a,{children:[Object(b.jsx)(v,{}),Object(b.jsxs)(d.c,{history:F,children:[Object(b.jsx)(d.a,{exact:!0,path:"/Movie-App-React/",component:y}),Object(b.jsx)(d.a,{path:"/favoris",component:S}),Object(b.jsx)(d.a,{path:"/detail",component:w}),Object(b.jsx)(d.a,{component:k})]})]})}}]),a}(s.Component);null==localStorage.getItem("movies")&&localStorage.setItem("movies","[]");var C=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(J,{})})};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(C,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.608632eb.chunk.js.map